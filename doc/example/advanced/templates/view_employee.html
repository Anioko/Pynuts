{% extends "_layout.html" %}

{% block main %}
  <h2>Employee</h2>
  {{ obj.view_object() }}
  <ul>
    <li><a href="{{ url_for('edit_employee_report', **obj.primary_keys) }}">Edit the employee report</a></li>
    <li><a href="{{ url_for('html_employee', **obj.primary_keys) }}">View the employee report</a></li>
    <li><a href="{{ url_for('pdf_employee', **obj.primary_keys) }}">Download as PDF</a></li>
  </ul>
  <h2>Document history</h2>
  <table>
    <tr>
      <th>Commit datetime</th>
      <th>Commit message</th>
      <th>Edit</th>
      <th>HTML</th>
      <th>PDF</th>
    </tr>
    {% for hist in history %}
      <tr>
        <th>{{ hist.datetime }}</th>
        <td>{{ hist.message }}</td>
        <td><a href="{{ url_for('edit_employee_report', version=hist.version, **obj.primary_keys) }}">></a></td>
        <td><a href="{{ url_for('html_employee', version=hist.version, **obj.primary_keys) }}">></a></td>
        <td><a href="{{ url_for('pdf_employee', version=hist.version, **obj.primary_keys) }}">></a></td>
      </tr>
    {% endfor %}
  </table>
{% endblock main %}
